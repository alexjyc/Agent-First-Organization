{
    "nodes": [
        [
            "0",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Hello! I'm your Personal Chef Service Assistant. What ingredients do you have on hand, and what dietary preferences or restrictions should I consider while creating a recipe for you?",
                    "task": "start message",
                    "directed": false
                },
                "limit": 1,
                "type": "start"
            }
        ],
        [
            "1",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Do you have any dietary restrictions or preferences I should be aware of, such as vegetarian, vegan, or gluten-free?",
                    "task": "Ask the user about their dietary restrictions or preferences (e.g., vegetarian, vegan, gluten-free, allergies).",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "2",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Are there any specific ingredients you would like to include or avoid in your recipes?",
                    "task": "Inquire about specific ingredients the user would like to include or avoid in their recipes.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "3",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "What are your favorite cuisines or dishes? This will help me tailor the recipe suggestions for you.",
                    "task": "Request information about the user's cuisine preferences or favorite dishes to tailor the recipe suggestions.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "4",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "To confirm, you are looking for recipes that are gluten-free and include chicken, is that correct?",
                    "task": "Confirm the information gathered and summarize the user's preferences and restrictions to ensure accuracy.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "5",
            {
                "resource": {
                    "id": "RecipesWorker",
                    "name": "RecipesWorker"
                },
                "attribute": {
                    "value": "Here are some gluten-free chicken recipes you might enjoy. Would you like to see more options or different types of recipes?",
                    "task": "Provide tailored recipe suggestions based on the user's preferences and ingredients, and ask if they would like to explore more options.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "6",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Could you please share any dietary restrictions you have and the ingredients you currently have on hand?",
                    "task": "Inquire about the user's dietary restrictions and preferences, as well as the ingredients they have available.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "7",
            {
                "resource": {
                    "id": "RecipesWorker",
                    "name": "RecipesWorker"
                },
                "attribute": {
                    "value": "",
                    "task": "Use the provided information to search for recipes that match the user's preferences and available ingredients.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "8",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Here are some recipes that match your preferences: Recipe A, Recipe B, and Recipe C. What do you think?",
                    "task": "Present the user with a selection of recipes that fit their criteria and ask for their feedback.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "9",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Would you like more details on any of these recipes, or would you like to see more options?",
                    "task": "Confirm if the user would like more details on a specific recipe or if they want to see additional options.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "10",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Here are the step-by-step instructions to prepare the chosen recipe. If you have any further questions, feel free to ask!",
                    "task": "Provide instructions on how to prepare the chosen recipe or assist with any further questions the user may have.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "11",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "What ingredients do you have on hand, and do you have any dietary restrictions or preferences?",
                    "task": "Inquire about the ingredients the user has available and any dietary restrictions or preferences they may have.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "12",
            {
                "resource": {
                    "id": "RecipesWorker",
                    "name": "RecipesWorker"
                },
                "attribute": {
                    "value": "",
                    "task": "Search for recipes that match the provided ingredients and align with the user's dietary restrictions or preferences.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "13",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Here are some recipes you can try. Would you like to see more options or make any specific adjustments?",
                    "task": "Present a selection of recipes to the user and ask if they would like to see more options or have specific adjustments.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "14",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Which recipe are you interested in? I can provide you with detailed cooking instructions and tips.",
                    "task": "Confirm which recipe the user is interested in and provide detailed cooking instructions and any additional tips.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "15",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Do you need assistance with any other recipes or further cooking guidance?",
                    "task": "Ask if the user needs assistance with any other recipes or further cooking guidance.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "16",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "What ingredients do you have available, and do you have any dietary restrictions or preferences I should be aware of?",
                    "task": "Ask the user for the ingredients they have available and any specific dietary restrictions or preferences.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "17",
            {
                "resource": {
                    "id": "RecipesWorker",
                    "name": "RecipesWorker"
                },
                "attribute": {
                    "value": "",
                    "task": "Use the RecipesWorker to find recipes that match the user's available ingredients and dietary preferences.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "18",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Here are some recipes that match your ingredients: 1. Vegetable Stir-Fry - A quick and healthy dish. 2. Chickpea Salad - A refreshing option packed with protein.",
                    "task": "Present the user with a selection of recipes that fit their criteria, including brief descriptions.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "19",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Would you like to see more recipes, or do you have any other dietary restrictions I should consider?",
                    "task": "Inquire if the user would like to see more options or if they have any additional dietary restrictions to consider.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "20",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Are you happy with the recipes provided, or do you need further assistance in choosing one?",
                    "task": "Confirm if the user is satisfied with the recommendations or if they need further assistance in choosing a recipe.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "21",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Here are the detailed instructions for the Vegetable Stir-Fry. Let me know if you have any questions!",
                    "task": "Provide the user with detailed instructions for the selected recipe or offer to assist with any additional questions.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "22",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Do you have any specific questions or need clarifications about the recipes I've provided?",
                    "task": "Ask the user if they have any specific questions or need clarifications about the recipes provided.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "23",
            {
                "resource": {
                    "id": "RecipesWorker",
                    "name": "RecipesWorker"
                },
                "attribute": {
                    "value": "",
                    "task": "Utilize the RecipesWorker to find and provide detailed answers to the user's questions about the recipes, such as cooking methods, ingredient substitutions, or serving suggestions.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "24",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Are there any dietary restrictions or preferences that you haven't mentioned yet?",
                    "task": "Inquire if the user has any dietary restrictions or preferences that were not previously mentioned.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "25",
            {
                "resource": {
                    "id": "RecipesWorker",
                    "name": "RecipesWorker"
                },
                "attribute": {
                    "value": "Based on your dietary preferences, here are some additional recipe suggestions that you might enjoy.",
                    "task": "Based on the user's input, offer additional recipe suggestions or modifications to existing recipes to better suit their preferences.",
                    "directed": false
                },
                "limit": 1
            }
        ],
        [
            "26",
            {
                "resource": {
                    "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
                    "name": "MessageWorker"
                },
                "attribute": {
                    "value": "Do you need any further assistance, such as more recipes or guidance on how to prepare the dishes?",
                    "task": "Confirm if the user needs any further assistance, such as more recipes or guidance on preparing the dishes.",
                    "directed": false
                },
                "limit": 1
            }
        ]
    ],
    "edges": [
        [
            "0",
            "1",
            {
                "intent": "The chatbot should handle the following distinct tasks based on user intent: 1. Gather user's cuisine preferences and dietary restrictions or allergies. 2. Collect user's cooking method preferences and flavor preferences. 3. Identify any specific dishes the user has mentioned positively. 4. Gather information on available ingredients, allowing the user to select one as the main ingredient. 5. Set a budget for the recipe.",
                "attribute": {
                    "weight": 1,
                    "pred": true,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "1",
            "2",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "2",
            "3",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "3",
            "4",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "4",
            "5",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "0",
            "6",
            {
                "intent": "The chatbot should handle the following distinct tasks to retrieve recipes based on user preferences and dietary restrictions: 1. Search for recipes using an online real-time search tool. 2. Analyze recipes based on user-defined preferences and available ingredients. 3. Rank the search results based on relevance and select the top 10 recipes with a rationale. 4. Review the selected recipes to confirm they align with user preferences and dietary restrictions.",
                "attribute": {
                    "weight": 1,
                    "pred": true,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "6",
            "7",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "7",
            "8",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "8",
            "9",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "9",
            "10",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "0",
            "11",
            {
                "intent": "The chatbot should handle the following distinct tasks: 1. Selecting the top three recipes based on user preferences and available ingredients. 2. Providing a step-by-step guide for following the chosen recipe and offering additional suggestions.",
                "attribute": {
                    "weight": 1,
                    "pred": true,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "11",
            "12",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "12",
            "13",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "13",
            "14",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "14",
            "15",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "0",
            "16",
            {
                "intent": "The chatbot should handle the following distinct tasks based on user intent: 1) Selecting top three recipes based on user preferences and available ingredients, 2) Providing a top five food recommendation by rating that matches user criteria, 3) Gathering user feedback on the provided recommendations, 4) Offering a step-by-step recipe based on the user's selection.",
                "attribute": {
                    "weight": 1,
                    "pred": true,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "16",
            "17",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "17",
            "18",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "18",
            "19",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "19",
            "20",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "20",
            "21",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "0",
            "22",
            {
                "intent": "The chatbot should handle distinct tasks related to recipe follow-up inquiries, which include: 1) Addressing user inquiries regarding adjustments to the recipe, such as portion size, cooking style, and ingredient substitutions. 2) Providing a detailed guide based on a deeper analysis of the recipe in response to specific user inquiries.",
                "attribute": {
                    "weight": 1,
                    "pred": true,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "22",
            "23",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "23",
            "24",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "24",
            "25",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ],
        [
            "25",
            "26",
            {
                "intent": "None",
                "attribute": {
                    "weight": 1,
                    "pred": false,
                    "definition": "",
                    "sample_utterances": []
                }
            }
        ]
    ],
    "role": "Personal Chef Service Assistant",
    "user_objective": "The Personal Chef Service Assistant helps users to generate recipes based on user's preferences and dietary restrictions with given ingredients.",
    "builder_objective": "The Personal Chef Service Assistant's goal is to provide recipe-following guides and suggestions to users while minimizing the time and effort required to generate a recipe and gather additional ingredients.",
    "domain": "Culinary",
    "intro": "BBC Food offers diverse recipes, including cuisines, meals, beverages, and desserts, where users can find a wide range of options for any occasion.",
    "task_docs": [
        {
            "source": "https://www.bbc.co.uk/food/recipes/",
            "desc": "Cooking recipes",
            "num": 30
        }
    ],
    "rag_docs": [
        {
            "source": "https://www.bbc.co.uk/food/recipes/",
            "desc": "Cooking Recipes",
            "num": 30
        }
    ],
    "tasks": [
        {
            "task_name": "Analyze user preferences and dietary restrictions",
            "steps": [
                "Gather user's Cuisine preferences, Dietary restrictions or allergies, Cooking method preferences, Flavor preferences, and Any specific dishes mentioned positively.",
                "Gather user's available ingredients (select one as main ingredient) and set a budget for the recipe."
            ]
        },
        {
            "task_name": "Retrieve recipes based on user preferences and dietary restrictions",
            "steps": [
                "Search the recipes using online real-time search tool.",
                "Analyze the recipes based on user's preferences and ingredients.",
                "Rank the search results based on its relevance and select top 10 recipes with the reasoning",
                "Review the selected recipes to ensure they meet user's preferences and ingredients."
            ]
        },
        {
            "task_name": "Provide recipe-following guides with criteria",
            "steps": [
                "Based on the selected recipe, choose the top three recipes that best match user's preferences and ingredients.",
                "Provide a step-by-step guide and suggestions for following the recipe."
            ]
        },
        {
            "task_name": "Provide relevant recommendation",
            "steps": [
                "Based on the selected recipe, choose the top three recipes that best match user's preferences and ingredients.",
                "Provide a top 5 food recommendation by rating while matching criteria",
                "Get user's opinion on recommendation",
                "Based on user's selection provide a step-by-step recipe"
            ]
        },
        {
            "task_name": "Recipe Follow-Up Q&A",
            "steps": [
                "Based on the selected recipe, address user inquiries regarding adjustments (e.g., portion size, cooking style, ingredient substitutions).",
                "Conduct a deeper analysis of the recipe and provide a detailed guide based on the user's inquiry."
            ]
        }
    ],
    "workers": [
        {
            "id": "9aa47724-0b77-4752-9528-cf4b06a46915",
            "name": "FaissRAGWorker",
            "path": "faiss_rag_worker.py"
        },
        {
            "id": "26bb6634-3bee-417d-ad75-23269ac17bc3",
            "name": "MessageWorker",
            "path": "message_worker.py"
        },
        {
            "id": "9c15af81-04b3-443e-be04-a3522124b905",
            "name": "SearchWorker",
            "path": "search_worker.py"
        },
        {
            "id": "b06c2b58-12c5-41fe-9838-e93b530e42e8",
            "name": "DefaultWorker",
            "path": "default_worker.py"
        },
        {
            "id": "RecipesWorker",
            "name": "RecipesWorker",
            "path": "recipes_worker.py"
        }
    ],
    "tools": [],
    "nluapi": "",
    "slotfillapi": ""
}